<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>FaceLab Shutter</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="hero">
        <span class="badge">FaceLab</span>
        <h1>🧸📸</h1>
        <p id="envHint" class="hint"></p>
      </header>

      <main class="stage-card">
        <canvas id="stage" width="720" height="960"></canvas>
        <video id="camera" autoplay muted playsinline></video>
        <div id="status" class="status">短按拍照，长按录像</div>
      </main>

      <section class="auto-dock" aria-label="one-tap-controls">
        <button id="addTextBtn" class="mini-btn" aria-label="add-text">➕字</button>
        <div id="shutterWrap" class="shutter-wrap" style="--progress: 0%">
          <button id="shutterBtn" class="shutter-btn" aria-label="shutter"></button>
        </div>
        <button id="doneBtn" class="mini-btn done-btn" aria-label="done-save">✅完成</button>
      </section>

      <section class="option-card">
        <div class="option-row" id="effectOptions">
          <button class="opt-btn active" data-fx="none">无</button>
          <button class="opt-btn" data-fx="spark">火花</button>
          <button class="opt-btn" data-fx="heart">爱心</button>
          <button class="opt-btn" data-fx="glitch">故障</button>
          <button class="opt-btn" data-fx="confetti">彩纸</button>
          <button class="opt-btn" data-fx="speed">速度线</button>
        </div>
        <div class="option-row" id="textStyleOptions">
          <button class="opt-btn active" data-text-style="classic">经典</button>
          <button class="opt-btn" data-text-style="neon">霓虹</button>
          <button class="opt-btn" data-text-style="fire">火焰</button>
          <button class="opt-btn" data-text-style="candy">糖果</button>
          <button class="opt-btn" data-text-style="shake">抖动</button>
        </div>
      </section>

      <section class="result-card">
        <video id="resultVideo" controls playsinline></video>
        <img id="resultImage" alt="result-image" />
      </section>

      <a id="downloadImage" class="hidden-input" download="facelab-kids.png"></a>
      <a id="downloadVideo" class="hidden-input" download="facelab-kids.webm"></a>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
