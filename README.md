# FaceLab

静态网页表情包相机，适配 Vercel 部署，支持：

- 前置摄像头自拍
- 像素风实时画面
- 常用表情包文字 + 粒子特效
- 录制数秒短视频并导出（表情包）
- iPad Pro 一代性能优化
- iPad 横屏布局优化（舞台左侧、操作右侧）
- 微信内浏览器兼容模式（优先调用系统摄像头）
- 儿童超简化交互（1个主按钮）
- 表情包常用特效选项（无/火花/爱心/故障/彩纸/速度线）
- 文字特效选项（经典/霓虹/火焰/糖果/抖动）
- 文字可在画布中拖动摆放
- 实时预览像素优化（减少马赛克，保留轻像素风）
- 圆形快门：短按拍照、长按录像（绿色进度环，最长10秒）

## 本地运行

直接打开 `index.html` 也可用，但摄像头/语音在部分浏览器要求 `https` 或 `localhost`。

推荐命令：

```bash
npx serve .
```

## 部署到 Vercel

1. 将仓库推送到 GitHub
2. 在 Vercel 导入该仓库
3. Framework 选择 `Other`，无需构建命令
4. Output 目录留空（根目录静态文件）

## 推送到 GitHub

```bash
git init
git add .
git commit -m "feat: init facelab static meme camera"
git branch -M main
git remote add origin <你的仓库地址>
git push -u origin main
```

## 兼容性说明

- 视频录制依赖 `MediaRecorder`，会自动选择可用编码（`mp4` 或 `webm`）
- 麦克风权限在页面初始化阶段即请求，避免按快门时再触发权限弹窗
- 自动保存链路：优先尝试系统分享面板（可“存储到照片”），失败时自动下载文件
- iPad 保存：若未直接入相册，可在分享面板点“存储到照片”或长按预览保存
- 微信内浏览器：若摄像头权限受限，请先在系统设置允许相机权限

## 儿童模式操作

- 短按圆形快门：拍照
- 长按圆形快门：开始录像，绿色进度环最多 10 秒，松手或走满自动结束
- `➕字` 添加常用文字（可拖动到任意位置）
- 选项条可切换画面特效与文字特效（录制中也可切换）
- `✅完成` 自动保存到相册（优先系统分享，失败则自动下载）
